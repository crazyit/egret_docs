<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">

<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"17896441":["static/js/17896441.4dcc725f.js"],"20711599":["static/js/20711599.5f64c5cf.js"],"46886123":["static/js/46886123.f3e49a8a.js"],"59051803":["static/js/59051803.d774f60a.js"],"59111383":["static/js/59111383.87da5009.js"],"75800853":["static/js/75800853.a5ae3036.js"],"79777922":["static/js/79777922.669bed28.js"],"main":["static/js/main.92daea53.js"],"0066be1b":["static/js/0066be1b.5a89380f.js"],"016fa2da":["static/js/016fa2da.84281200.js"],"017d4d1d":["static/js/017d4d1d.809827e0.js"],"024c684a":["static/js/024c684a.ea74d352.js"],"0319c99a":["static/js/0319c99a.5b9785c9.js"],"03a34880":["static/js/03a34880.62df7c7c.js"],"04894c54":["static/js/04894c54.cb10c362.js"],"0539c698":["static/js/0539c698.97ca894d.js"],"06cdf259":["static/js/06cdf259.331d3b36.js"],"07609002":["static/js/07609002.27785c21.js"],"0770cc74":["static/js/0770cc74.a086cfc4.js"],"0808800f":["static/js/0808800f.ccdbd416.js"],"081a98c9":["static/js/081a98c9.4119818d.js"],"083abffe":["static/js/083abffe.c3abf057.js"],"0873986e":["static/js/0873986e.eecb04cc.js"],"08a5c9a5":["static/js/08a5c9a5.b652fce9.js"],"090af191":["static/js/090af191.677dfb85.js"],"094713d4":["static/js/094713d4.7c2a7855.js"],"09942e6b":["static/js/09942e6b.1e891611.js"],"09b8f092":["static/js/09b8f092.4c8c15f1.js"],"09c11fa3":["static/js/09c11fa3.37ffe6a9.js"],"09d3680c":["static/js/09d3680c.07b3f324.js"],"09ef3071":["static/js/09ef3071.0c5acb96.js"],"0b206f9e":["static/js/0b206f9e.80dfca1c.js"],"0b5da7e3":["static/js/0b5da7e3.63e47f0c.js"],"0b8c279a":["static/js/0b8c279a.edc07ef4.js"],"0c3e0fd9":["static/js/0c3e0fd9.6d117c29.js"],"0ccf9e19":["static/js/0ccf9e19.10ef9a95.js"],"0d89222b":["static/js/0d89222b.11e5cd29.js"],"0d9fa739":["static/js/0d9fa739.06a5f79e.js"],"0dc6d61d":["static/js/0dc6d61d.f423f927.js"],"0e38fe88":["static/js/0e38fe88.0b953d43.js"],"0edfd642":["static/js/0edfd642.80c577d6.js"],"0f543fde":["static/js/0f543fde.70c5f4dc.js"],"102ca85d":["static/js/102ca85d.582ed26d.js"],"105bca2d":["static/js/105bca2d.bb0824e2.js"],"12850d8e":["static/js/12850d8e.0acec8b4.js"],"1493b57a":["static/js/1493b57a.7e6d1786.js"],"149e49fa":["static/js/149e49fa.67b3f884.js"],"1595036a":["static/js/1595036a.b29b8dd6.js"],"15a477b9":["static/js/15a477b9.9b0c0758.js"],"15b2a96d":["static/js/15b2a96d.e26d100c.js"],"16022e87":["static/js/16022e87.a17c8056.js"],"164808df":["static/js/164808df.3368d826.js"],"16c5b9ca":["static/js/16c5b9ca.975c8b48.js"],"16f4c1c1":["static/js/16f4c1c1.4896bb16.js"],"175a6b0d":["static/js/175a6b0d.dd9f322b.js"],"18e3fc0f":["static/js/18e3fc0f.ddeb617c.js"],"1909f8ee":["static/js/1909f8ee.02936f76.js"],"1a3d027b":["static/js/1a3d027b.4f007b8d.js"],"1ad0d6f6":["static/js/1ad0d6f6.6e2ede0a.js"],"1aefcaff":["static/js/1aefcaff.4d26d7f6.js"],"1baf16f9":["static/js/1baf16f9.627fdfc4.js"],"1be78505":["static/js/1be78505.6f9859cd.js"],"1c42922b":["static/js/1c42922b.c643552a.js"],"1c659845":["static/js/1c659845.86d611dd.js"],"1cd3be53":["static/js/1cd3be53.267dd1aa.js"],"1d118a1c":["static/js/1d118a1c.8146504b.js"],"1d156660":["static/js/1d156660.4af43022.js"],"1e1070fa":["static/js/1e1070fa.d1a21900.js"],"1e82148b":["static/js/1e82148b.17812a40.js"],"1e924268":["static/js/1e924268.870cc7d1.js"],"1f8774a6":["static/js/1f8774a6.bade9ced.js"],"208c854f":["static/js/208c854f.44d65ff4.js"],"21356f10":["static/js/21356f10.f57b176b.js"],"21d4ab42":["static/js/21d4ab42.ffe02198.js"],"21eb0a19":["static/js/21eb0a19.c0f0f541.js"],"223dd501":["static/js/223dd501.97ec62f2.js"],"2300717f":["static/js/2300717f.417ad148.js"],"247f50f8":["static/js/247f50f8.18f0f4a5.js"],"255d08c7":["static/js/255d08c7.270ba938.js"],"2579317f":["static/js/2579317f.cffef1fd.js"],"27242a44":["static/js/27242a44.0f83bad2.js"],"27438c8d":["static/js/27438c8d.07336340.js"],"274e0260":["static/js/274e0260.4098bfa8.js"],"2784448c":["static/js/2784448c.25326416.js"],"2831bb64":["static/js/2831bb64.95051d07.js"],"299ae3ef":["static/js/299ae3ef.6a58aa9b.js"],"2a4280ac":["static/js/2a4280ac.ab5b3dca.js"],"2aaf6de9":["static/js/2aaf6de9.86beb9c6.js"],"2c352196":["static/js/2c352196.6fcd8102.js"],"2c38d90a":["static/js/2c38d90a.11820600.js"],"2f06b33b":["static/js/2f06b33b.ca177077.js"],"2f123e07":["static/js/2f123e07.0b3d20b1.js"],"2fb8647b":["static/js/2fb8647b.a92d3d16.js"],"310d4765":["static/js/310d4765.53dbc2c2.js"],"322aa675":["static/js/322aa675.cf7f3aca.js"],"326ae586":["static/js/326ae586.dee76e05.js"],"328930cc":["static/js/328930cc.f3841075.js"],"3386d1c0":["static/js/3386d1c0.04cc2b1b.js"],"34562f07":["static/js/34562f07.e258b50f.js"],"35cbf5a4":["static/js/35cbf5a4.bdd47a87.js"],"36bf7e48":["static/js/36bf7e48.681153e7.js"],"37997f98":["static/js/37997f98.1eee483e.js"],"37b98cfc":["static/js/37b98cfc.1c89c73d.js"],"38218e57":["static/js/38218e57.3282490a.js"],"387b7fd3":["static/js/387b7fd3.4b3d05d4.js"],"3ae34953":["static/js/3ae34953.efa1783a.js"],"3b4671b2":["static/js/3b4671b2.c1fe997c.js"],"3b8d891d":["static/js/3b8d891d.a57eafbb.js"],"3cd9f090":["static/js/3cd9f090.3ba46b58.js"],"3d6d5ec0":["static/js/3d6d5ec0.f4b37a09.js"],"3dd0baea":["static/js/3dd0baea.5c9dda94.js"],"3e10903a":["static/js/3e10903a.13851d1a.js"],"40fdd410":["static/js/40fdd410.2b51d1dc.js"],"41aefd11":["static/js/41aefd11.d033ab6a.js"],"427ed5a3":["static/js/427ed5a3.796971c9.js"],"42ab03d5":["static/js/42ab03d5.f6bffdaf.js"],"42e91d28":["static/js/42e91d28.abbfe74a.js"],"43986e77":["static/js/43986e77.c702ff59.js"],"43d2eee9":["static/js/43d2eee9.6ec7d542.js"],"43d59c03":["static/js/43d59c03.be5c65b0.js"],"45ae014d":["static/js/45ae014d.f79fe119.js"],"49072cd5":["static/js/49072cd5.d9c1dbd9.js"],"493ae172":["static/js/493ae172.1373cc6c.js"],"4a7e49ff":["static/js/4a7e49ff.df93288f.js"],"4b577a7f":["static/js/4b577a7f.4ec4fd66.js"],"4c4233c9":["static/js/4c4233c9.ba459608.js"],"4d331467":["static/js/4d331467.c3dcd778.js"],"4d3a2542":["static/js/4d3a2542.bc56b718.js"],"4e3ba12d":["static/js/4e3ba12d.f04c1c91.js"],"4ef3c7d0":["static/js/4ef3c7d0.a6484c55.js"],"4ef791b1":["static/js/4ef791b1.2eb22eed.js"],"50854b5b":["static/js/50854b5b.66bfaf05.js"],"50c8bc6e":["static/js/50c8bc6e.f7ff7992.js"],"520aaf7b":["static/js/520aaf7b.49a453ae.js"],"522374f0":["static/js/522374f0.98feea55.js"],"538b3aac":["static/js/538b3aac.979a1252.js"],"547c72af":["static/js/547c72af.2a0cec4b.js"],"54e374d9":["static/js/54e374d9.4244de47.js"],"5596ff41":["static/js/5596ff41.7baaeb21.js"],"569969c8":["static/js/569969c8.7aac4c36.js"],"56a62d37":["static/js/56a62d37.ee60cb5d.js"],"56eca03a":["static/js/56eca03a.af460a64.js"],"5871deb5":["static/js/5871deb5.52b3d5ae.js"],"596636a7":["static/js/596636a7.daf05333.js"],"597be321":["static/js/597be321.f0d27ed3.js"],"599154bb":["static/js/599154bb.a6ccaa6c.js"],"5a8b953f":["static/js/5a8b953f.e43fbc81.js"],"5b50d7cb":["static/js/5b50d7cb.791164c5.js"],"5bf8e303":["static/js/5bf8e303.f3240e47.js"],"5d4875e1":["static/js/5d4875e1.12e50905.js"],"5d8e0fff":["static/js/5d8e0fff.9ee300fe.js"],"5ec022c9":["static/js/5ec022c9.294439b0.js"],"5ef65284":["static/js/5ef65284.2e7140ee.js"],"5f8f995a":["static/js/5f8f995a.52b1e631.js"],"6298bed2":["static/js/6298bed2.8652ecfc.js"],"63509c3d":["static/js/63509c3d.86104ef1.js"],"63c1a8cd":["static/js/63c1a8cd.4bd5e4e3.js"],"63c32ff4":["static/js/63c32ff4.b8bafa9e.js"],"646df89e":["static/js/646df89e.b0b5a171.js"],"6584f991":["static/js/6584f991.df35fbc1.js"],"65a011de":["static/js/65a011de.4bc149a4.js"],"65e1f4cf":["static/js/65e1f4cf.7be56da7.js"],"66a1079d":["static/js/66a1079d.25b6ccc4.js"],"66ceeb14":["static/js/66ceeb14.d94d3f0e.js"],"6738250a":["static/js/6738250a.0322c341.js"],"674055b4":["static/js/674055b4.a1a73924.js"],"67862b62":["static/js/67862b62.06358fc8.js"],"680cb5e0":["static/js/680cb5e0.b3e533bc.js"],"684107b9":["static/js/684107b9.2d5343ad.js"],"68d9a6d8":["static/js/68d9a6d8.fec83500.js"],"69088e69":["static/js/69088e69.a80d15fd.js"],"6964d727":["static/js/6964d727.8b85057e.js"],"6befd944":["static/js/6befd944.e2541e6b.js"],"6c30a452":["static/js/6c30a452.4c87ca24.js"],"6d86fdab":["static/js/6d86fdab.bf2a87c9.js"],"6e62cfa8":["static/js/6e62cfa8.42c8ef26.js"],"6e9f60a9":["static/js/6e9f60a9.8c4a7460.js"],"6ec22cc4":["static/js/6ec22cc4.e8526d11.js"],"6ee5ea78":["static/js/6ee5ea78.d87dede8.js"],"6f35c3fe":["static/js/6f35c3fe.a2fbf0f0.js"],"70bb32c0":["static/js/70bb32c0.1b59937a.js"],"70e25bb7":["static/js/70e25bb7.bc2cf294.js"],"714a5c7b":["static/js/714a5c7b.6670ea50.js"],"71cde655":["static/js/71cde655.18f51318.js"],"7280d1e3":["static/js/7280d1e3.89524f41.js"],"728bfb46":["static/js/728bfb46.c96e0b00.js"],"73833be3":["static/js/73833be3.b6812d23.js"],"739699cb":["static/js/739699cb.95784c1b.js"],"73db7b8f":["static/js/73db7b8f.99b93c0e.js"],"73f3ee89":["static/js/73f3ee89.6af56b1e.js"],"749aa8b4":["static/js/749aa8b4.9277b98b.js"],"74d83eb5":["static/js/74d83eb5.fffddb73.js"],"74f85cd8":["static/js/74f85cd8.d57271fe.js"],"760acf87":["static/js/760acf87.7c8c74eb.js"],"76f53494":["static/js/76f53494.82fccb6f.js"],"774831cf":["static/js/774831cf.e2873371.js"],"77a26fdc":["static/js/77a26fdc.7189df90.js"],"78e0bfd8":["static/js/78e0bfd8.119b27a6.js"],"790e1bcb":["static/js/790e1bcb.f45a930f.js"],"791353f1":["static/js/791353f1.190b2ebd.js"],"799fe249":["static/js/799fe249.ff699633.js"],"79bf19d3":["static/js/79bf19d3.e205a3bf.js"],"79c60c1b":["static/js/79c60c1b.f4afe21d.js"],"7b4469ee":["static/js/7b4469ee.c6d3a2ca.js"],"7ce018ea":["static/js/7ce018ea.18bee8a6.js"],"7fc5bde4":["static/js/7fc5bde4.da215fde.js"],"8027fe0b":["static/js/8027fe0b.0f8c5fa5.js"],"80e1749b":["static/js/80e1749b.b6e738aa.js"],"8128dc87":["static/js/8128dc87.18b6b667.js"],"8150e0d8":["static/js/8150e0d8.8badda85.js"],"81eca22b":["static/js/81eca22b.745adf61.js"],"821e4dc0":["static/js/821e4dc0.dc291308.js"],"847f1acd":["static/js/847f1acd.bb26456b.js"],"85c70490":["static/js/85c70490.e45448db.js"],"85f1baaa":["static/js/85f1baaa.98895837.js"],"872608eb":["static/js/872608eb.8e6afc93.js"],"8815b6ca":["static/js/8815b6ca.520eacba.js"],"88ab86f9":["static/js/88ab86f9.4e288e3e.js"],"8a4ca958":["static/js/8a4ca958.ea91eac8.js"],"8aac2eca":["static/js/8aac2eca.e8f154e4.js"],"8b06649a":["static/js/8b06649a.c2cd3cc2.js"],"8b45ea67":["static/js/8b45ea67.e7bf6b08.js"],"8d9deb8f":["static/js/8d9deb8f.5b7e5d91.js"],"8e180340":["static/js/8e180340.110084d1.js"],"8e91062c":["static/js/8e91062c.0bf2503f.js"],"8ea3438b":["static/js/8ea3438b.e86327fb.js"],"8eaff808":["static/js/8eaff808.55783b8b.js"],"8ef53f0a":["static/js/8ef53f0a.b8c703bf.js"],"8faff096":["static/js/8faff096.a1f22f8d.js"],"90d9dcd1":["static/js/90d9dcd1.e1dda5b7.js"],"9146ee76":["static/js/9146ee76.bbe737c8.js"],"9254cc91":["static/js/9254cc91.2b309909.js"],"93caa41a":["static/js/93caa41a.a2b98231.js"],"94548b92":["static/js/94548b92.78477a84.js"],"95091c39":["static/js/95091c39.51ab0bbf.js"],"95f1055d":["static/js/95f1055d.53633670.js"],"95ff3fe6":["static/js/95ff3fe6.b22ff8dc.js"],"969245cc":["static/js/969245cc.8d5ba98b.js"],"96993e55":["static/js/96993e55.7177b7a7.js"],"96c6e2b7":["static/js/96c6e2b7.7f26b079.js"],"976a3c97":["static/js/976a3c97.97d3c286.js"],"983fe3a2":["static/js/983fe3a2.adf022eb.js"],"984a6a9e":["static/js/984a6a9e.dd2b0d98.js"],"995e565d":["static/js/995e565d.97e4e8b4.js"],"99d74318":["static/js/99d74318.f6104483.js"],"9abc3c20":["static/js/9abc3c20.0aa92a0c.js"],"9b7773d7":["static/js/9b7773d7.dd90ae04.js"],"9cb2efe4":["static/js/9cb2efe4.cae0d7a7.js"],"9d120469":["static/js/9d120469.e5ccbbe1.js"],"9e17896e":["static/js/9e17896e.a1733750.js"],"9f9d9f22":["static/js/9f9d9f22.f03f1616.js"],"9fbea48c":["static/js/9fbea48c.4e84123c.js"],"9fc77729":["static/js/9fc77729.d2920aea.js"],"a06fc975":["static/js/a06fc975.a2e7531c.js"],"a19ca74a":["static/js/a19ca74a.c11f8a2e.js"],"a1b67a8b":["static/js/a1b67a8b.af774480.js"],"a22da1c4":["static/js/a22da1c4.6f6c1bea.js"],"a2fb4aae":["static/js/a2fb4aae.2ea3ff9c.js"],"a305eb12":["static/js/a305eb12.8915f0ae.js"],"a322cf51":["static/js/a322cf51.1b8521cb.js"],"a3c4e26d":["static/js/a3c4e26d.6d5c40b8.js"],"a3e24655":["static/js/a3e24655.5d9df281.js"],"a471bf80":["static/js/a471bf80.58db2add.js"],"a4d4d759":["static/js/a4d4d759.5c50feab.js"],"a5f4136e":["static/js/a5f4136e.97207d29.js"],"a6de8658":["static/js/a6de8658.04473ebb.js"],"a76891f9":["static/js/a76891f9.eb716402.js"],"a88fc23c":["static/js/a88fc23c.d273db50.js"],"a98ce0f6":["static/js/a98ce0f6.5e86e7d4.js"],"a9d21707":["static/js/a9d21707.7bfed871.js"],"aa5607ef":["static/js/aa5607ef.134ae27a.js"],"aafbb802":["static/js/aafbb802.3dc59b4b.js"],"ab3d422d":["static/js/ab3d422d.629d2d44.js"],"acd16fd1":["static/js/acd16fd1.b69a249a.js"],"ad381fe0":["static/js/ad381fe0.7b2fb811.js"],"ad7898bb":["static/js/ad7898bb.e6c596dd.js"],"ae670b0e":["static/js/ae670b0e.70ed61f1.js"],"ae6dd4cf":["static/js/ae6dd4cf.fd9d068b.js"],"af253dc1":["static/js/af253dc1.5763d3c4.js"],"af5ca73e":["static/js/af5ca73e.e5a1d509.js"],"b0406e48":["static/js/b0406e48.90eeaf70.js"],"b058ac9e":["static/js/b058ac9e.5b3c0646.js"],"b121bba1":["static/js/b121bba1.881f7a12.js"],"b2c0648a":["static/js/b2c0648a.0fbdb365.js"],"b2fe22ab":["static/js/b2fe22ab.a7693c1c.js"],"b3073286":["static/js/b3073286.c5e9fd14.js"],"b32c87bd":["static/js/b32c87bd.62386baa.js"],"b3a1dd6f":["static/js/b3a1dd6f.45f820f0.js"],"b46fef8d":["static/js/b46fef8d.2191aece.js"],"b4b0ff24":["static/js/b4b0ff24.660d6468.js"],"b55ee73d":["static/js/b55ee73d.29273271.js"],"b620af51":["static/js/b620af51.e8b7d28c.js"],"b7769b46":["static/js/b7769b46.e6c5ed7e.js"],"b97114fa":["static/js/b97114fa.7e4ed675.js"],"b9e39624":["static/js/b9e39624.533f3f45.js"],"ba1c465d":["static/js/ba1c465d.734aa132.js"],"ba3b4e2b":["static/js/ba3b4e2b.ec9cf043.js"],"ba7f37f6":["static/js/ba7f37f6.70e71ccb.js"],"bce1a55f":["static/js/bce1a55f.f53d6ce6.js"],"c01f3695":["static/js/c01f3695.129dfba6.js"],"c0601246":["static/js/c0601246.80bb4d36.js"],"c06e9e65":["static/js/c06e9e65.f4f213ab.js"],"c42d4ab6":["static/js/c42d4ab6.c6b5f59c.js"],"c487fe24":["static/js/c487fe24.acff7a00.js"],"c49b1ec0":["static/js/c49b1ec0.fa4f4f98.js"],"c4ae5ece":["static/js/c4ae5ece.ce31e0f2.js"],"c4f142b0":["static/js/c4f142b0.28682359.js"],"c4f5d8e4":["static/js/c4f5d8e4.521713a1.js"],"c57a1063":["static/js/c57a1063.ca8e56ab.js"],"c6674a7b":["static/js/c6674a7b.fbe6586d.js"],"c668949f":["static/js/c668949f.cbcedd90.js"],"c6b2d83c":["static/js/c6b2d83c.24c98387.js"],"c6df212a":["static/js/c6df212a.882ceba2.js"],"c849570f":["static/js/c849570f.9127a809.js"],"c9b92529":["static/js/c9b92529.9598d424.js"],"ca0b212a":["static/js/ca0b212a.c92bd38c.js"],"ca2bb1bc":["static/js/ca2bb1bc.dc297142.js"],"ca564772":["static/js/ca564772.d9b931cf.js"],"ca890700":["static/js/ca890700.6fbc9398.js"],"cad9f11e":["static/js/cad9f11e.ec42d354.js"],"cb203018":["static/js/cb203018.2e81bfb3.js"],"cb3ef041":["static/js/cb3ef041.be1607fb.js"],"cbcd49c0":["static/js/cbcd49c0.f1839d04.js"],"ccdf5cd6":["static/js/ccdf5cd6.10bbc8ec.js"],"cdedbff7":["static/js/cdedbff7.66f778ae.js"],"cec37ea4":["static/js/cec37ea4.0fc49400.js"],"cf3f5f5e":["static/js/cf3f5f5e.6bbdf16e.js"],"d0636c03":["static/js/d0636c03.6729c2e3.js"],"d101478d":["static/js/d101478d.9735697a.js"],"d2757c9f":["static/js/d2757c9f.84b7e4aa.js"],"d2b81146":["static/js/d2b81146.9a366da2.js"],"d413b21f":["static/js/d413b21f.a30a3638.js"],"d4428a34":["static/js/d4428a34.7040951a.js"],"d4f4f7b8":["static/js/d4f4f7b8.c87a5c08.js"],"d52e4548":["static/js/d52e4548.6a187125.js"],"d5446350":["static/js/d5446350.4c9af2f9.js"],"d5a3752b":["static/js/d5a3752b.0ac3df99.js"],"d5f702c6":["static/js/d5f702c6.e374d032.js"],"d7ebb546":["static/js/d7ebb546.fd459319.js"],"d90044f5":["static/js/d90044f5.a0089ee8.js"],"d904eada":["static/js/d904eada.e01263fb.js"],"d9e0b1c6":["static/js/d9e0b1c6.172e1f9a.js"],"da821f81":["static/js/da821f81.9d7e399d.js"],"da9a69a9":["static/js/da9a69a9.a5cd234f.js"],"db0c06df":["static/js/db0c06df.ed176807.js"],"dd5fdda6":["static/js/dd5fdda6.a5c137d3.js"],"ded9167b":["static/js/ded9167b.1413dbeb.js"],"e0d77379":["static/js/e0d77379.791fd832.js"],"e1bf0ec9":["static/js/e1bf0ec9.37ba3ee8.js"],"e26cd549":["static/js/e26cd549.7f0f9b0c.js"],"e381b840":["static/js/e381b840.0a38d2cc.js"],"e4efae76":["static/js/e4efae76.a0188ffa.js"],"e6990a5d":["static/js/e6990a5d.d957edd3.js"],"e6b6729f":["static/js/e6b6729f.9f38e900.js"],"e7a1e901":["static/js/e7a1e901.0ae431c1.js"],"e7d49a8f":["static/js/e7d49a8f.874046b3.js"],"e8142e82":["static/js/e8142e82.82548690.js"],"e82d1c2e":["static/js/e82d1c2e.675d43ab.js"],"ea69bd11":["static/js/ea69bd11.8eff9ac0.js"],"eb2e338b":["static/js/eb2e338b.6047eb3c.js"],"ed1c60e0":["static/js/ed1c60e0.e30fd041.js"],"ed65b0ed":["static/js/ed65b0ed.77332c5c.js"],"ed6c73ef":["static/js/ed6c73ef.50a2a345.js"],"ee8da18a":["static/js/ee8da18a.4692f8c4.js"],"eed1ee9b":["static/js/eed1ee9b.44f8eb0b.js"],"eee229bc":["static/js/eee229bc.7c8677af.js"],"f044787a":["static/js/f044787a.72879ee6.js"],"f108d9fe":["static/js/f108d9fe.d4f362ba.js"],"f1298aff":["static/js/f1298aff.5964c4bc.js"],"f1e00ba8":["static/js/f1e00ba8.57470ab2.js"],"f1e59103":["static/js/f1e59103.323f1da5.js"],"f2b7d28f":["static/js/f2b7d28f.d28302fe.js"],"f2c0f261":["static/js/f2c0f261.18285ecf.js"],"f3215ac6":["static/js/f3215ac6.f88167fc.js"],"f3cb27bc":["static/js/f3cb27bc.ed5d71b6.js"],"f44988f1":["static/js/f44988f1.68a33ff7.js"],"f58b5153":["static/js/f58b5153.5b1dd1dd.js"],"f6d3aca1":["static/js/f6d3aca1.095fdedc.js"],"f7e53d5d":["static/js/f7e53d5d.d09d1285.js"],"f8a229b1":["static/js/f8a229b1.7322c4aa.js"],"f9987d15":["static/js/f9987d15.fb0c0246.js"],"fa6e4bf2":["static/js/fa6e4bf2.e7762ffa.js"],"fd4043e7":["static/js/fd4043e7.b133ecdc.js"],"fd75f4ca":["static/js/fd75f4ca.f4323fd9.js"],"fe0ec8b5":["static/js/fe0ec8b5.8dc63ecb.js"],"fe1978da":["static/js/fe1978da.87467e8f.js"],"fe6355e4":["static/js/fe6355e4.d1eb2c85.js"],"ff4b1e68":["static/js/ff4b1e68.7e013ea0.js"],"ffad4f5c":["static/js/ffad4f5c.164cc58e.js"],"ffd87405":["static/js/ffd87405.09b929e8.js"]};/*]]>*/</script>

<title data-react-helmet="true">API 文档</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="# 命令行扩展插件 API 文档">

<link data-react-helmet="true" rel="shortcut icon" href="static/css/favicon.ico">


<link rel="stylesheet" type="text/css" href="static/css/styles.caa1b7bb.css">

</head>
<body>

<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewbox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="javascript:;"><img class="navbar__logo" src="static/picture/logo.png" alt="Egret Engine Logo"><strong class="">Egret Engine</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" to="https://egret.com/products" href="javascript:;">返回产品中心</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="搜索" aria-label="搜索" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="javascript:;"><img class="navbar__logo" src="static/picture/logo.png" alt="Egret Engine Logo"><strong>Egret Engine</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="navbar__link--active" to="https://egret.com/products" href="javascript:;">返回产品中心</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewbox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">更新详情</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.4.1</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">历史更新</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.4.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.3.10</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.3.9</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.3.8</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.3.7</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.3.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.3.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.33</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.32</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.31</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.30</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.29</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.28</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.27</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.26</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.25</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.24</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.23</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.22</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.21</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.20</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.19</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.18</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.17</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.16</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.15</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.14</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.13</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.12</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.11</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.10</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.9</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.8</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.7</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.4</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.11</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.10</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.9</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.8</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.7</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.4</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.15</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.14</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.13</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.12</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.11</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.10</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.9</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.8</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.7</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.4</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 5.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 4.1.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 4.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 4.0.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 4.0.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 4.0.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 4.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.4</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.2.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.8</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.7</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.4</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.8</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.7</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.6</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.5</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.4</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.3</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.2</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.1</a></li><li class="menu__list-item"><a class="menu__link" href="javascript:;">Egret Engine2D 3.0.0</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="lifecycle.html">GetStarted</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="index.html">Hello World</a></li><li class="menu__list-item"><a class="menu__link" href="lifecycle.html">生命周期</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="installation.html">引擎安装</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="installation.html">安装与部署</a></li><li class="menu__list-item"><a class="menu__link" href="installation-cli.html">命令行安装</a></li><li class="menu__list-item"><a class="menu__link" href="installation-plugin.html">VSCode插件安装</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="cmdManual.html">项目配置</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="cmdManual.html">命令行手册</a></li><li class="menu__list-item"><a class="menu__link" href="indexFile.html">入口文件说明</a></li><li class="menu__list-item"><a class="menu__link" href="template-file.html">入口文件模板</a></li><li class="menu__list-item"><a class="menu__link" href="modelconfig.html">模块配置</a></li><li class="menu__list-item"><a class="menu__link" href="configFile.html">项目配置文件说明</a></li><li class="menu__list-item"><a class="menu__link" href="tsconfig.html">tsconfig 配置文件</a></li><li class="menu__list-item"><a class="menu__link" href="compileOrder.html">编译顺序说明</a></li><li class="menu__list-item"><a class="menu__link" href="extendRepSummary.html">扩展库简介</a></li><li class="menu__list-item"><a class="menu__link" href="libraryProject.html">第三方扩展库</a></li><li class="menu__list-item"><a class="menu__link" href="upgradev52.html">5.2 项目升级指南</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="introduction1.html">项目构建</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="introduction1.html">概述</a></li><li class="menu__list-item"><a class="menu__link" href="install-and-upgrade.html">安装与更新</a></li><li class="menu__list-item"><a class="menu__link" href="legacy-mode.html">Legacy 模式</a></li><li class="menu__list-item"><a class="menu__link" href="modern-mode.html">Modern 模式</a></li><li class="menu__list-item"><a class="menu__link" href="using-npm-scripts.html">使用 npm 脚本</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="displayObject.html">2D 渲染</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="displayObject.html">2D 渲染</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="displayObject.html">基本概念</a></li><li class="menu__list-item"><a class="menu__link" href="transform.html">变换操作</a></li><li class="menu__list-item"><a class="menu__link" href="addAndRemove.html">添加与删除显示对象</a></li><li class="menu__list-item"><a class="menu__link" href="depthManagement.html">深度管理</a></li><li class="menu__list-item"><a class="menu__link" href="resetDepth.html">重设子对象深度</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="vectorDrawing.html">矢量绘图</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="vectorDrawing.html">使用矢量绘图</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="mask.html">遮罩</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="mask.html">遮罩</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="text.html">文本</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="text.html">文本类型</a></li><li class="menu__list-item"><a class="menu__link" href="textStyle.html">文本样式</a></li><li class="menu__list-item"><a class="menu__link" href="ttf.html">使用 ttf 字体文件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">位图纹理</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="bitmapTexture.html">位图纹理</a></li><li class="menu__list-item"><a class="menu__link" href="scale9Grid.html">九宫格</a></li><li class="menu__list-item"><a class="menu__link" href="fillMode.html">纹理的填充方式</a></li><li class="menu__list-item"><a class="menu__link" href="useTexture.html">纹理集的使用</a></li><li class="menu__list-item"><a class="menu__link" href="screenshots.html">截屏功能</a></li><li class="menu__list-item"><a class="menu__link" href="ktx.html">KTX 纹理压缩</a></li><li class="menu__list-item"><a class="menu__link" href="ktxfaq.html">KTX 纹理压缩 FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="ktxtool.html">KTX 转换工具</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="blendMode.html">颜色效果</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="blendMode.html">混合模式</a></li><li class="menu__list-item"><a class="menu__link" href="filter.html">滤镜</a></li><li class="menu__list-item"><a class="menu__link" href="shader.html">自定义Shader</a></li><li class="menu__list-item"><a class="menu__link" href="tint.html">设置填充色</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="add-3d-content.html">3D 渲染</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="add-3d-content.html">添加 3D 内容</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="publish1.html">发布项目</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="publish1.html">发布项目</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart.html">发布到小游戏平台</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart.html">支付宝小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="mygameFAQ.html">支付宝小游游戏FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="minigameFAQ.html">微信小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="minigameFAQ.html">微信小游戏 FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="introduction2.html">小游戏简介</a></li><li class="menu__list-item"><a class="menu__link" href="tutorial.html">小游戏新手教程</a></li><li class="menu__list-item"><a class="menu__link" href="advance.html">小游戏进阶教程</a></li><li class="menu__list-item"><a class="menu__link" href="api1.html">小游戏 API 调用</a></li><li class="menu__list-item"><a class="menu__link" href="openDataContext.html">开放数据域</a></li><li class="menu__list-item"><a class="menu__link" href="publish2.html">项目发布小游戏指南</a></li><li class="menu__list-item"><a class="menu__link" href="roadmap.html">后续路线图</a></li><li class="menu__list-item"><a class="menu__link" href="usingcache.html">如何使用缓存资源</a></li><li class="menu__list-item"><a class="menu__link" href="package.html">如何分包加载资源</a></li><li class="menu__list-item"><a class="menu__link" href="cloudapi.html">使用数据库API</a></li><li class="menu__list-item"><a class="menu__link" href="useWxPlugin.html">使用微信引擎插件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart1.html">QQ小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart1.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="qqgameFAQ.html">QQ小游戏FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="usePlugin.html">使用 QQ 引擎插件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart2.html">百度小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart2.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="baidugameFAQ.html">百度小游戏FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart3.html">小米快游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart3.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="qgameFAQ.html">小米快游戏FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart4.html">OPPO小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart4.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="oppogameFAQ.html">OPPO小游游戏FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart5.html">vivo小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart5.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="vivogameFAQ.html">vivo小游游戏FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="usePlugin1.html">使用 vivo 引擎插件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="qhgameFAQ.html">360 PC 小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart6.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="qhgameFAQ.html">360 PC 小游游戏FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart7.html">字节跳动小游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart7.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="ttgameFAQ.html">字节跳动小游游戏FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart8.html">华为快游戏开发指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart8.html">开发快速指南</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart9.html">淘宝创意互动小程序</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart9.html">开发快速指南</a></li><li class="menu__list-item"><a class="menu__link" href="tbgameFAQ.html">淘宝创意互动小程序FAQ</a></li><li class="menu__list-item"><a class="menu__link" href="variable.html">关于全局变量的使用</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="getStart10.html">淘宝创意互动小部件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="getStart10.html">开发快速指南</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="facebookInstantGames.html">Facebook InstantGames</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="rectangleHit.html">碰撞检测</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="rectangleHit.html">矩形碰撞检测</a></li><li class="menu__list-item"><a class="menu__link" href="pixelHit.html">像素碰撞检测</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="principle.html">事件机制</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="principle.html">事件处理机制</a></li><li class="menu__list-item"><a class="menu__link" href="process.html">事件的执行流程</a></li><li class="menu__list-item"><a class="menu__link" href="event.html">Event类</a></li><li class="menu__list-item"><a class="menu__link" href="listener.html">事件侦听器</a></li><li class="menu__list-item"><a class="menu__link" href="priority.html">事件的优先级</a></li><li class="menu__list-item"><a class="menu__link" href="touchEvent.html">触摸事件</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="loadBitmap.html">网络</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="javascript:;">发送HTTP请求</a></li><li class="menu__list-item"><a class="menu__link" href="loadBitmap.html">加载位图文件</a></li><li class="menu__list-item"><a class="menu__link" href="loadText.html">加载文本和二进制文件</a></li><li class="menu__list-item"><a class="menu__link" href="websocket.html">WebSocket</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="timeControl.html">时间控制</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="timeControl.html">时间控制</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="audio.html">多媒体</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="audio.html">音频</a></li><li class="menu__list-item"><a class="menu__link" href="video.html">视频</a></li><li class="menu__list-item"><a class="menu__link" href="environment.html">环境信息</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="webgl.html">渲染模式</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="webgl.html">WebGL渲染</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="zoomMode.html">屏幕适配</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="zoomMode.html">缩放模式</a></li><li class="menu__list-item"><a class="menu__link" href="rotationMode.html">旋转模式</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="instructions.html">第三方库的制作和使用</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="instructions.html">第三方库的使用方法</a></li><li class="menu__list-item"><a class="menu__link" href="dts.html">生成 .d.ts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="newres.html">RES资源加载</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="newres.html">资源管理框架</a></li><li class="menu__list-item"><a class="menu__link" href="loadModules.html">资源加载模块</a></li><li class="menu__list-item"><a class="menu__link" href="fileResolver.html">扩展资源加载模块文件解析器</a></li><li class="menu__list-item"><a class="menu__link" href="typeResolver.html">RES内置文件类型解析器</a></li><li class="menu__list-item"><a class="menu__link" href="cache.html">资源的缓存机制</a></li><li class="menu__list-item"><a class="menu__link" href="getway.html">获取资源的几种方式</a></li><li class="menu__list-item"><a class="menu__link" href="loadGroup.html">加载资源组</a></li><li class="menu__list-item"><a class="menu__link" href="loadConfig.html">资源加载配置</a></li><li class="menu__list-item"><a class="menu__link" href="RESVersion.html">RES版本控制</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="movieClip.html">Game 库</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="movieClip.html">MovieClip序列帧动画</a></li><li class="menu__list-item"><a class="menu__link" href="scrollView.html">ScrollView 滚动视图</a></li><li class="menu__list-item"><a class="menu__link" href="timeoutTrigger.html">超时触发器</a></li><li class="menu__list-item"><a class="menu__link" href="URLLoaderNetwork.html">URLLoader网络通讯</a></li><li class="menu__list-item"><a class="menu__link" href="URLLoaderDataformat.html">URLLoader读取不同数据格式</a></li><li class="menu__list-item"><a class="menu__link" href="postAndGet.html">URLLoader中POST与GET</a></li><li class="menu__list-item"><a class="menu__link" href="URLLoaderRequest.html">URLLoader发送带参数的请求</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="tween.html">Tween 缓动库</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="tween.html">缓动动画</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="p2.html">P2物理系统库</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="p2.html">使用p2制作跳跃游戏</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="mouse.html">mouse鼠标支持库</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="mouse.html">鼠标支持库</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="jszip.html">JSZip库</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="jszip.html">JSZip 库</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="debug.html">调试</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="debug.html">调试</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="plugin.html">命令行扩展插件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="plugin.html">命令行扩展插件</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="">API 文档</a></li><li class="menu__list-item"><a class="menu__link" href="teach.html">插件使用案例教程</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="introduction3.html">调用 JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="introduction3.html">概述</a></li><li class="menu__list-item"><a class="menu__link" href="add-declaration-file.html">添加 .d.ts 文件</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">API 文档</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="命令行扩展插件-api-文档"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#命令行扩展插件-api-文档" title="Direct link to heading">#</a>命令行扩展插件 API 文档</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="脚本插件目录结构"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#脚本插件目录结构" title="Direct link to heading">#</a>脚本插件目录结构</h2><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-bash codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">scripts    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-- api.d.ts // 文档    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-- config.ts // 构建脚本入口        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-- myplugin.ts // 开发者自定义插件的示例        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain">-- node.d.ts // node的.d.ts 文件</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件运行机制简介"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件运行机制简介" title="Direct link to heading">#</a>插件运行机制简介</h2><p>开发者执行 <code> build</code> 和 <code> publish</code> 的时候，可以执行不同的插件。</p><p>在项目构建的时候会自动执行 <code> config.ts</code> 文件中的 <code> buildConfig</code> 函数。</p><blockquote><p> 这个函数的功能是返回一个对象，对象中的内容会根据执行不同的命令返回相对应的输出路径和需要执行的插件，插件在返回对象的 commands 数组中实例化后就会执行。</p></blockquote><p><code> config.ts</code> 有多个版本对应着不同的平台：</p><p><img src="static/picture/006tKfTcly1ftwmn9vae5j30ea0og409.png"></p><p>发布到不同平台时，执行的<code> config.ts</code>是不同的，比如执行 ：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-shell codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">egret publish --target wxgame</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>发布到微信小游戏，执行的是 <code> config.wxgame.ts</code>。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="运行调用"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#运行调用" title="Direct link to heading">#</a>运行调用</h2><blockquote><p>config.ts</p></blockquote><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">command </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;publish&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> outputDir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">bin-release/web/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">version</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        outputDir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ----------调用开始-----------</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// commands数组中实例化之后，就会执行该插件</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        commands</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CustomPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CompilePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> libraryType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;release&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> defines</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">DEBUG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">RELEASE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExmlPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;commonjs&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UglifyPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    sources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main.js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main.min.js&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RenamePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                verbose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;crc32&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> matchers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;**/*.js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[path][name]_[hash].[ext]&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ManifestPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;manifest.json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ----------调用结束------------</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>插件按照<strong>数组顺序</strong>调用。</p><p>为了方便开发者使用，Egret内置了一些常用插件。</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---exmlplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---exmlplugin" title="Direct link to heading">#</a>插件---ExmlPlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义" title="Direct link to heading">#</a>定义</h3><p>EXML 插件，用于使用不同的策略来发布 EXML 文件。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExmlPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">publishPolicy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值" title="Direct link to heading">#</a>参数值</h3><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>default</td><td>string</td><td>使用 egretProperties.json 中的 exmlPublishPolicy 中的策略</td></tr><tr><td>debug</td><td>string</td><td>默认策略，用于开发环境</td></tr><tr><td>contents</td><td>string</td><td>将 EXML 的内容写入到主题文件中</td></tr><tr><td>gjs</td><td>string</td><td>将生成的JS文件写入到主题文件中</td></tr><tr><td>commonjs</td><td>string</td><td>将EXML合并为一个 CommonJS 风格的文件</td></tr><tr><td>commonjs2</td><td>string</td><td>将EXML合并为一个含有解析方法和皮肤定义的文件，且皮肤抽离为一份配置</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节" title="Direct link to heading">#</a>细节</h3><p>如果当前项目非EUI项目，请关掉这个设置。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---uglifyplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---uglifyplugin" title="Direct link to heading">#</a>插件---UglifyPlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-1" title="Direct link to heading">#</a>定义</h3><p>混淆插件，用来压缩混淆代码。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-1" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">UglifyPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        sources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main.js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;main.min.js&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-1" title="Direct link to heading">#</a>参数值</h3><p>UglifyPlugin 的参数是一个数组，数组中的值是一个 <code> UglifyPluginOption</code>对象，对象属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>sources</td><td>string<!-- -->[<!-- -->]</td><td>需要被压缩的文件</td></tr><tr><td>target</td><td>string</td><td>压缩后的文件名</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---renameplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---renameplugin" title="Direct link to heading">#</a>插件---RenamePlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-2" title="Direct link to heading">#</a>定义</h3><p>修改文件名插件，用哈希算法给文件名生成一个独一无二的后缀。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-2" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RenamePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    verbose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;crc32&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> matchers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;**/*.js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[path][name]_[hash].[ext]&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-2" title="Direct link to heading">#</a>参数值</h3><p>RenamePlugin 的参数是一个对象，对象属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>verbose</td><td>boolean</td><td>是否输出日志 (可选参数)</td></tr><tr><td>hash</td><td>string</td><td>采用何种 hash 算法，目前暂时只支持 crc32 (可选参数)</td></tr><tr><td>matchers</td><td>Matcher<!-- -->[<!-- -->]</td><td>设置匹配规则，将指定文件进行改名<br>该参数是个数组，允许设置多个匹配规则，数组内是Matcher对象</td></tr></tbody></table><p>Matcher对象：</p><p>匹配机制，将满足 <code> from</code> 的文件输出为 <code> to</code> 格式的文件。</p><p><code> from</code> 采用 glob 表达式 ,<code>  to</code> 包含 <code> path</code>  、<code> name</code>、  <code> hash</code>、  <code> ext</code>  四个变量。</p><p>示例：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 将所有的文件（*表示通配符，匹配所有情况）输出为to的格式</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RenamePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    matchers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/**.*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;[path][name]_[hash].[ext]&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---manifestplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---manifestplugin" title="Direct link to heading">#</a>插件---ManifestPlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-3" title="Direct link to heading">#</a>定义</h3><p>生成 manifest 文件，这个文件会被用于记录 JavaScript 文件的版本号。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-3" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ManifestPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;manifest.json&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-3" title="Direct link to heading">#</a>参数值</h3><p>ManifestPlugin的参数是一个对象，属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>output</td><td>string</td><td>输出的文件名，支持 json 与 js 两种格式</td></tr><tr><td>hash</td><td>string</td><td>使用的算法，暂只支持 “crc32”   (可选参数)</td></tr><tr><td>verbose</td><td>boolean</td><td>是否输出转换过程 (可选参数)</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---compileplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---compileplugin" title="Direct link to heading">#</a>插件---CompilePlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-4"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-4" title="Direct link to heading">#</a>定义</h3><p>编译插件，根据参数选择不同的编译方式。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-4"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-4" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CompilePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> libraryType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;release&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> defines</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">DEBUG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">RELEASE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-4"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-4" title="Direct link to heading">#</a>参数值</h3><p>CompilePlugin 的参数是一个对象，属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>libraryType</td><td>string</td><td>可选取值 &quot;debug&quot; <!-- -->|<!-- --> “release&quot;</td></tr><tr><td>defines</td><td>any</td><td>定义   （可选参数）</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-1" title="Direct link to heading">#</a>细节</h3><p>libraryType参数设置编译的模式。</p><p>设置为 debug 时，发布后的js文件不会被混淆压缩，保留可读性，方便debug。</p><p><img src="static/picture/006tKfTcly1ftt0qlp9r9j31kw11fdsu.png"></p><p>设置为 release 时，发布后的js文件会被混淆压缩。</p><p><img src="static/picture/006tKfTcly1ftt0qjetboj31kw11fqg6.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---incrementcompileplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---incrementcompileplugin" title="Direct link to heading">#</a>插件---IncrementCompilePlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-5"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-5" title="Direct link to heading">#</a>定义</h3><p>增量编译,  重新编译程序代码中更改的那部分代码 （常用在开发模式，发布时请使用 <code>CompilePlugin</code>）。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-5"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-5" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">IncrementCompilePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-2" title="Direct link to heading">#</a>细节</h3><p>这个插件生成的 JavaScript 代码不会被添加到构建管线中，后续其他插件无法获取生成的 js 文件。</p><p>这个功能将会在未来被 watch 模式代替掉。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---emitresconfigfileplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---emitresconfigfileplugin" title="Direct link to heading">#</a>插件---EmitResConfigFilePlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-6"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-6" title="Direct link to heading">#</a>定义</h3><p>用来生成 res.json 文件或者 res.js 文件。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-6"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-6" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">EmitResConfigFilePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/default.res.json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// typeSelector方法，写在下面</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    typeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">typeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 根据传进来的路径p，生成文件name</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">nameSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token parameter">p</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 获取文件名，然后把 &#x27;.&#x27; 替换成 &#x27;_&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">basename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">replace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token regex">/\./gi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 根据传进来的路径p，生成group</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">groupSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token parameter">p</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 这里数据写死，可以根据自己的需求自定</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;preload&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//…………其他代码…………</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 根据传进来的path，判断文件的类型</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function-variable function" style="color:rgb(130, 170, 255)">typeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> ext </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">substr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">lastIndexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> typeMap </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;jpg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;png&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;webp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fnt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;font&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pvr&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pvr&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mp3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sound&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;exml&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;text&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> typeMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;movieclip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;movieclip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-5"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-5" title="Direct link to heading">#</a>参数值</h3><p>EmitResConfigFilePlugin的参数是一个对象，参数如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>output</td><td>string</td><td>生成路径，可以指定生成为 <em>.res.js 文件或者 </em>.res.json 文件</td></tr><tr><td>typeSelector</td><td>function</td><td>一个方法，根据返回值决定文件的类型</td></tr><tr><td>nameSelector</td><td>function</td><td>一个方法，根据返回值决定文件的name</td></tr><tr><td>groupSelector</td><td>function</td><td>一个方法，根据返回值决定文件的组</td></tr></tbody></table><p><code> typeSelector</code> ,   <code>nameSelector </code>,   <code>groupSelector</code>  三个方法都有一个默认参数 p，即每个文件的完整路径。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="typeselector"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#typeselector" title="Direct link to heading">#</a>typeSelector</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">typeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> ext </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">substr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">lastIndexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> typeMap </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;jpg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;png&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;webp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fnt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;font&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pvr&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pvr&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mp3&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sound&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;exml&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;text&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> typeMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sheet&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;movieclip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;movieclip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>先通过完整路径获取到文件的后缀名，然后在typeMap中找到对应的文件类型，接着判断”sheet&quot;和&quot;movieclip”类型，最后返回type。</p><p>根据开发者不同的需求可以自定义返回的文件类型，比如可以将json文件作为text文件返回。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="nameselector"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#nameselector" title="Direct link to heading">#</a>nameSelector</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">nameSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token parameter">p</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">basename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">replace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token regex">/\./gi</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>获取到文件名，然后将文件名中的 “.”  替换为 “<!-- -->_<!-- -->”  ，然后返回。</p><p>res.json中资源的“name”属性的值的命名方式，就是由这个方法定义的。</p><p>#<!-- -->##groupSelector</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">groupSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token parameter">p</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;preload&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>方法中直接返回了 preload ，说明所有的文件都直接放在了 “preload” 组中。</p><p>开发者可以自定义分组方式，比如根据文件所在的文件夹来分组。</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function-variable function" style="color:rgb(130, 170, 255)">groupSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token parameter">p</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 把p分割成数组</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> arr </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">split</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 数组中倒数第二个就是文件夹名</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> arr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">arr</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>根据不同的父级文件夹分组。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---cleanplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---cleanplugin" title="Direct link to heading">#</a>插件---CleanPlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-7"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-7" title="Direct link to heading">#</a>定义</h3><p>清理，用来重置清空文件夹。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-7"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-7" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CleanPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> matchers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-6"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-6" title="Direct link to heading">#</a>参数值</h3><p>CleanPlugin的参数是一个对象，属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>matchers</td><td>array</td><td>数组，数组内是需要清理的文件夹名称</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-3" title="Direct link to heading">#</a>细节</h3><p>matchers 的值是需要清理的文件夹的名称，这个文件夹名是相对于publish的outputDir，也就是发布后生成的文件夹，语法中实例表示清理 js和resource两个文件夹。一般作为第一个插件运行，清空上一次生成的资源。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---ressplitplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---ressplitplugin" title="Direct link to heading">#</a>插件---ResSplitPlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-8"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-8" title="Direct link to heading">#</a>定义</h3><p>分离资源目录，将指定的文件拷贝到其他的文件夹内。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-8"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-8" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ResSplitPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    verbose</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    matchers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/**&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dir&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-7"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-7" title="Direct link to heading">#</a>参数值</h3><p>ResSplitPlugin的参数是一个对象，对象属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>verbose</td><td>boolean</td><td>是否输出日志</td></tr><tr><td>matchers</td><td>array</td><td>一个数组，数组内的项是Matcher对象</td></tr></tbody></table><p><code>Matcher</code> 有两个属性，<code>from</code> 、<code>to</code> </p><blockquote><p>将满足 from 的文件输出到 to </p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-4"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-4" title="Direct link to heading">#</a>细节</h3><p>ResSplitPlugin插件在<code>publish</code>时使用，可以将资源目录分离到别的文件夹。</p><p>在开发微信小游戏的时候，可以使用这个插件将资源放到初始包外，减小游戏包体积。</p><p>案例：<a href="javascript:;">如何使用缓存资源</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---zipplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---zipplugin" title="Direct link to heading">#</a>插件---ZipPlugin</h2><p>压缩插件，把代码压缩成某种格式。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="用法"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#用法" title="Direct link to heading">#</a>用法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ZipPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    mergeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">mergeSelector</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//……其他代码</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mergeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// do something</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-8"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-8" title="Direct link to heading">#</a>参数值</h3><p>ZipPlugin的参数是一个对象，属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>mergeSelector</td><td>function</td><td>一个方法，根据返回值决定如何压缩</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-5"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-5" title="Direct link to heading">#</a>细节</h3><p>使用ZipPlugin插件之前，需要安装cross-zip 和 cross-zip-cli， 在终端中输入：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-shell codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">//全局安装</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> cross-zip -g   </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> cross-zip-cli -g</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>安装完成之后才可以使用这个插件。</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ZipPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">mergeSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token parameter">path</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 如果文件是assets/Button/路径下的， 压缩到assets/but.zip</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;assets/Button/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;assets/but.zip&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p><img src="static/picture/006tNc79ly1ftvgmpt1gyj31kw11sna8.png"></p><p>（图中项目是新建的默认EUI项目）</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---texturemergerplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---texturemergerplugin" title="Direct link to heading">#</a>插件---TextureMergerPlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-9"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-9" title="Direct link to heading">#</a>定义</h3><p>使用 TextureMerger 实现纹理自动合并，通常与ConvertResConfigFilePlugin插件配合使用。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-9"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-9" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">TextureMergerPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> textureMergerRoot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;resource&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-9"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-9" title="Direct link to heading">#</a>参数值</h3><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>textureMergerRoot</td><td>数组</td><td>数组内的值表示扫描路径</td></tr></tbody></table><p>插件只合成textureMergerRoot参数中指定的目录中的tmproject</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-6"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-6" title="Direct link to heading">#</a>细节</h3><p>插件依赖 TextureMerger 1.7 以上的版本。</p><p>TextureMergerPlugin根据项目中的<code>tmproject</code>文件进行合图操作（暂时需要关闭TextureMerger工具才能使用）,通过TextureMerger工具的命令行控制完成。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="生成tmproject文件"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#生成tmproject文件" title="Direct link to heading">#</a>生成tmproject文件</h4><ul><li>开发者通过wing做出一款游戏后，我们建议使用TextureMerger工具进行合图操作，这样主要目的就是可以自由设置，开发者可以根据项目的需求来调节最后的显示效果和合图的方式。使用<a href="javascript:;">TextureMerger工具</a>生成<code>tmproject</code>文件。</li></ul><ul><li><p>当游戏项目比较小，对资源配置的要求不高时，开发者可以选择使用一个自动化的脚本来处理生成<code>tmproject</code>文件。</p><p>脚本 autoMerger.js，主要将对应的res.json里面的组进行合并图集操作，支持粒子，龙骨，位图字体的筛选，支持多个res.json，自动扫描配置好的res.json，但是由于资源引用问题，建议将所有res.json合并为一个文件后，然后再执行这个脚本去生成对应的tmproject文件，因为针对的是比较普遍的情况，所以性能比较低，如果开发者所需项目命名比较规范统一，建议修改脚本去提高性能，使用此脚本时开发者看不到最终显示效果，如果组的资源过多，很有可能导致合完的图集很大，大量空白区域被闲置，<strong>因此建议开发者修改组之后或是采用<a href="javascript:;">TextureMerger工具</a>进行拆分</strong>，以达到最好的效果。</p><p>脚本使用：</p><p>将合图插件autoMerger.js拷贝到所需工程的scripts目录下（其他目录可能导致发布流程被破坏），修改autoMerger.js里面的两个参数。</p></li></ul><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 要扫描的res.json文件数组</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resjsons </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;default.res.json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// tmproject文件的输出目录， 必须在resource目录下</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> targetDir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/TextureMerger&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>  在Egret Wing中打开终端，或使用其他终端进入当前项目根目录：</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-shell codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">node scripts/autoMerger.js</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="automerget脚本"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#automerget脚本" title="Direct link to heading">#</a>autoMerget脚本</h4><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;use strict&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">Object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">defineProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">exports</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__esModule&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> fs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resjsons </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/default.res.json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//要扫描的res.json文件</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> targetDir </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/TextureMerger&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//输出目录</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> pathNor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">relative</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">targetDir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//返回一个相对路径</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> tempindex </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//创建输出文件夹</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resjsons</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">existsSync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">targetDir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// var paths = path.normalize(targetDir).split(&quot;\\&quot;);   //windows 下使用</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> paths </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">normalize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">targetDir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">split</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\/&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//mac linux 下使用</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> target </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> _i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> paths_1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> paths</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> paths_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> p </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> paths_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">_i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// target += (&quot;\\&quot; + p);  // windows 下使用</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            target </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;\/&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// mac linux 下使用</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">existsSync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 根据路径创建文件夹</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">mkdirSync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">_loop_1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">resJson</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 判断是否是res.json文件</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">existsSync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resJson</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> resJson</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;res.json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> defaultJson </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">readFileSync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resJson</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;utf-8&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 解析res.json文件内容</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> defaultObject </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">defaultJson</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> groups </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> defaultObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">groups</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//组</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resources </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> defaultObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//资源</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resourcesHash_1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 用来存放resources的资源信息</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 遍历resources</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> _i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> resources_1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> resources_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resource </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> resources_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">_i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            resourcesHash_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 遍历groups</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> _a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> groups_1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> groups</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _a </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> groups_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _a</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> group </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> groups_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">_a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> tmproject </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//用来存放tmproject文件的信息</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// tmproject文件配置</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            tmproject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;options&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;layoutMath&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sizeMode&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;useExtension&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;layoutGap&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// projectName</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            tmproject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;projectName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> tempindex</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 版本</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            tmproject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;version&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            tempindex</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 获取res.json分组的keys, 并分割成数组</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> oldkeys </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">keys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">split</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;,&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> oldkeysHash </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 遍历oldkeys</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> _b </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> oldkeys_1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> oldkeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _b </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> oldkeys_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _b</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> oldkeys_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">_b</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 保存到oldkeysHash对象中</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                oldkeysHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> newKeys </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 遍历oldkeys</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> _c </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> oldkeys_2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> oldkeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _c </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> oldkeys_2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _c</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> oldkeys_2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">_c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">oldkeysHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">replace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;png&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//粒子和龙骨对应的图集不合图</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">oldkeysHash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">replace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;png&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fnt&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//位图字体</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            newKeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;jpg&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        newKeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            oldkeysHash </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            oldkeys </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// files路径</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> urls </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newKeys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">pathNor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> resourcesHash_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            tmproject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;files&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> urls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 根据tmproject写入文件</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">urls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                fs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">writeFileSync</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">targetDir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tmproject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;projectName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.tmproject&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tmproject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            tmproject </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//根据数组开始扫描</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> _a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> resjsons_1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> resjsons</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _a </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> resjsons_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> _a</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> resJson </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> resjsons_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">_a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">_loop_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resJson</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="调用插件"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#调用插件" title="Direct link to heading">#</a>调用插件</h4><p>publish之后，会在打包后的文件夹的resource目录下生成一个TextureMerger文件夹，文件夹内就是合并完成后的纹理集。</p><p><img src="static/picture/006tKfTcly1ftzzaieuuxj31kw104wqe.png"></p><p>此时纹理集并没有被添加到 res.json 配置中，需要使用<a href="#ConvertResConfigFilePlugin">ConvertResConfigFilePlugin</a>插件。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="插件---convertresconfigfileplugin"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#插件---convertresconfigfileplugin" title="Direct link to heading">#</a>插件---ConvertResConfigFilePlugin</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="定义-10"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#定义-10" title="Direct link to heading">#</a>定义</h3><p>对原有的资源进行筛选，将合图之前的小图资源引用删除，增加对合并图集的引用加载，通常与TextureMergerPlugin插件配合使用。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="语法-10"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#语法-10" title="Direct link to heading">#</a>语法</h3><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-typescript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ConvertResConfigFilePlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    resourceConfigFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/default.res.json&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> root</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource/&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">nameSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">basename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">split</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;_&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="参数值-10"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#参数值-10" title="Direct link to heading">#</a>参数值</h3><p>ConvertResConfigFilePlugin的参数是一个对象，属性如下：</p><table><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>resourceConfigFiles</td><td>array</td><td>数组，数组中是一个对象</td></tr><tr><td>nameSelector</td><td>funcion</td><td>一个方法，根据返回值决定文件的name</td></tr><tr><td>TM_Verbose</td><td>boolean</td><td>是否输出警告</td></tr></tbody></table><p>resourceConfigFiles 数组中的对象属性中，filename属性是被修改的配置文件，root属性是资源路径，应该与游戏业务逻辑里面的相一致，同时整个插件执行的时候，只扫描这个root文件夹下面的资源。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="细节-7"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#细节-7" title="Direct link to heading">#</a>细节</h3><p>nameSelector函数主要是规定了怎么资源的url名字转为对应res.json中的名字，默认情况就是上面所示，如果开发者有自己的统一规范可以替换掉这里的逻辑。</p><p>如果开发者资源名称和url名称没有统一的规范，建议先统一修改res.json的引用设置再去调用此插件。</p><p>当TM_Verbose打印出警告的时候，表示有多个res.json 都引用同一份合图结果，证明证明这个资源没有划分好（不影响代码执行）。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="tip"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tip" title="Direct link to heading">#</a>TIP</h3><p>当文件打包出的图集在res.json文件上级的时候，是不能使用的，在res.json中不能出现  <code>../</code>  这种向上级寻找资源的语法，因此开发者如果要使用合图插件，只能将tmproject文件放到与res.json或是它的子集中去。另外可能存在很多res.json都会引用同一份的合图，这份合图的位置就要保证在所有res.json文件的子集下。</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="plugin.html"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« <!-- -->命令行扩展插件</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="teach.html"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">插件使用案例教程<!-- --> »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#脚本插件目录结构" class="contents__link">脚本插件目录结构</a></li><li><a href="#插件运行机制简介" class="contents__link">插件运行机制简介</a></li><li><a href="#运行调用" class="contents__link">运行调用</a></li><li><a href="#插件---exmlplugin" class="contents__link">插件---ExmlPlugin</a><ul class=""><li><a href="#定义" class="contents__link">定义</a></li><li><a href="#语法" class="contents__link">语法</a></li><li><a href="#参数值" class="contents__link">参数值</a></li><li><a href="#细节" class="contents__link">细节</a></li></ul></li><li><a href="#插件---uglifyplugin" class="contents__link">插件---UglifyPlugin</a><ul class=""><li><a href="#定义-1" class="contents__link">定义</a></li><li><a href="#语法-1" class="contents__link">语法</a></li><li><a href="#参数值-1" class="contents__link">参数值</a></li></ul></li><li><a href="#插件---renameplugin" class="contents__link">插件---RenamePlugin</a><ul class=""><li><a href="#定义-2" class="contents__link">定义</a></li><li><a href="#语法-2" class="contents__link">语法</a></li><li><a href="#参数值-2" class="contents__link">参数值</a></li></ul></li><li><a href="#插件---manifestplugin" class="contents__link">插件---ManifestPlugin</a><ul class=""><li><a href="#定义-3" class="contents__link">定义</a></li><li><a href="#语法-3" class="contents__link">语法</a></li><li><a href="#参数值-3" class="contents__link">参数值</a></li></ul></li><li><a href="#插件---compileplugin" class="contents__link">插件---CompilePlugin</a><ul class=""><li><a href="#定义-4" class="contents__link">定义</a></li><li><a href="#语法-4" class="contents__link">语法</a></li><li><a href="#参数值-4" class="contents__link">参数值</a></li><li><a href="#细节-1" class="contents__link">细节</a></li></ul></li><li><a href="#插件---incrementcompileplugin" class="contents__link">插件---IncrementCompilePlugin</a><ul class=""><li><a href="#定义-5" class="contents__link">定义</a></li><li><a href="#语法-5" class="contents__link">语法</a></li><li><a href="#细节-2" class="contents__link">细节</a></li></ul></li><li><a href="#插件---emitresconfigfileplugin" class="contents__link">插件---EmitResConfigFilePlugin</a><ul class=""><li><a href="#定义-6" class="contents__link">定义</a></li><li><a href="#语法-6" class="contents__link">语法</a></li><li><a href="#参数值-5" class="contents__link">参数值</a></li><li><a href="#typeselector" class="contents__link">typeSelector</a></li><li><a href="#nameselector" class="contents__link">nameSelector</a></li></ul></li><li><a href="#插件---cleanplugin" class="contents__link">插件---CleanPlugin</a><ul class=""><li><a href="#定义-7" class="contents__link">定义</a></li><li><a href="#语法-7" class="contents__link">语法</a></li><li><a href="#参数值-6" class="contents__link">参数值</a></li><li><a href="#细节-3" class="contents__link">细节</a></li></ul></li><li><a href="#插件---ressplitplugin" class="contents__link">插件---ResSplitPlugin</a><ul class=""><li><a href="#定义-8" class="contents__link">定义</a></li><li><a href="#语法-8" class="contents__link">语法</a></li><li><a href="#参数值-7" class="contents__link">参数值</a></li><li><a href="#细节-4" class="contents__link">细节</a></li></ul></li><li><a href="#插件---zipplugin" class="contents__link">插件---ZipPlugin</a><ul class=""><li><a href="#用法" class="contents__link">用法</a></li><li><a href="#参数值-8" class="contents__link">参数值</a></li><li><a href="#细节-5" class="contents__link">细节</a></li></ul></li><li><a href="#插件---texturemergerplugin" class="contents__link">插件---TextureMergerPlugin</a><ul class=""><li><a href="#定义-9" class="contents__link">定义</a></li><li><a href="#语法-9" class="contents__link">语法</a></li><li><a href="#参数值-9" class="contents__link">参数值</a></li><li><a href="#细节-6" class="contents__link">细节</a></li></ul></li><li><a href="#插件---convertresconfigfileplugin" class="contents__link">插件---ConvertResConfigFilePlugin</a><ul class=""><li><a href="#定义-10" class="contents__link">定义</a></li><li><a href="#语法-10" class="contents__link">语法</a></li><li><a href="#参数值-10" class="contents__link">参数值</a></li><li><a href="#细节-7" class="contents__link">细节</a></li><li><a href="#tip" class="contents__link">TIP</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">开源项目</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs/egret-core" href="javascript:;">白鹭引擎源码</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs/egret-game-library" href="javascript:;">第三方库</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs/egret-examples" href="javascript:;">代码示例</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/egret-labs" href="javascript:;">更多开源项目</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">产品相关</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_self" rel="noopener noreferrer" href="javascript:;">下载引擎</a></li><li class="footer__item"><a class="footer__link-item" target="_self" rel="noopener noreferrer" href="javascript:;">文档中心</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">获得帮助</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="http://bbs.egret.com/forum-94-1.html" href="javascript:;">论坛技术问答</a></li><li class="footer__item"><a class="footer__link-item">技术支持：support@egret.com</a></li></ul></div></div><div class="text--center">Copyright © 2014-2021 Egret Technology</div></div></footer>
</div>

<script type="text/javascript" src="static/js/styles.d9c110e6.js"></script>

<script type="text/javascript" src="static/js/runtime~main.14fb23ce.js"></script>

<script type="text/javascript" src="static/js/main.92daea53.js"></script>

<script type="text/javascript" src="static/js/1.23df6799.js"></script>

<script type="text/javascript" src="static/js/1be78505.6f9859cd.js"></script>

<script type="text/javascript" src="static/js/394.60215e7c.js"></script>

<script type="text/javascript" src="static/js/aafbb802.3dc59b4b.js"></script>

<script type="text/javascript" src="static/js/17896441.4dcc725f.js"></script>

<script type="text/javascript" src="static/js/ed6c73ef.50a2a345.js"></script>



        <script>
            var _mtac = {"senseQuery":1};
            (function() {
                var mta = document.createElement("script");
                mta.src = "static/js/stats.js";
                mta.setAttribute("name", "MTAH5");
                mta.setAttribute("sid", "500714313");
                mta.setAttribute("cid", "500714314");
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(mta, s);
            })();
            setTimeout(()=>{
                MtaH5.clickStat("engine")
            },1000)
        </script>
        </body>
</html>