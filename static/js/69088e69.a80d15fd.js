(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{296:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"rightToc",(function(){return b})),a.d(t,"metadata",(function(){return i})),a.d(t,"default",(function(){return s}));var n=a(1),r=a(9),l=(a(0),a(520)),c={id:"egret.ExternalInterface"},b=[{value:"\u516c\u5171\u65b9\u6cd5",id:"\u516c\u5171\u65b9\u6cd5",children:[]},{value:"\u65b9\u6cd5\u8be6\u7ec6\u4fe1\u606f",id:"\u65b9\u6cd5\u8be6\u7ec6\u4fe1\u606f",children:[{value:"addCallback()",id:"addcallback",children:[]},{value:"call()",id:"call",children:[]},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",children:[]}]}],i={id:"api/engine/egret.ExternalInterface",title:"egret.ExternalInterface",description:"**\u5305** &nbsp;&nbsp; egret",source:"@site/docs/api/engine/egret.ExternalInterface.md",permalink:"/engine/docs/api/engine/egret.ExternalInterface",sidebar:"apiSidebar",previous:{title:"egret.EventPhase",permalink:"/engine/docs/api/engine/egret.EventPhase"},next:{title:"egret.FocusEvent",permalink:"/engine/docs/api/engine/egret.FocusEvent"}},o={rightToc:b,metadata:i},p="wrapper";function s(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(l.b)(p,Object(n.a)({},o,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\u5305")," ","\xa0","\xa0"," egret"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\u7c7b"),"  ","\xa0","\xa0"," public class ExternalInterface"),Object(l.b)("p",null,"h5\u4e0enative\u4ea4\u4e92\u3002"),Object(l.b)("h2",{id:"\u516c\u5171\u65b9\u6cd5"},"\u516c\u5171\u65b9\u6cd5"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u65b9\u6cd5"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"#addcallback"}),"addCallback"),"(functionName:",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#string"}),"string"),",listener:(value:",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#string"}),"string"),")=>",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#void"}),"void"),"):",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#void"}),"void"),Object(l.b)("br",null),"[\u9759\u6001]","\u76d1\u542c functionName \u56de\u8c03\uff0c\u9700\u8981\u5728native\u4e2d\u6709\u8c03\u7528 functionName \u8fd9\u4e2a\u5b57\u6bb5\uff0c\u800c\u4e0d\u662f \u6b64\u7c7b\u7684call")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"#call"}),"call"),"(functionName:",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#string"}),"string"),",value:",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#string"}),"string"),"):",Object(l.b)("a",Object(n.a)({parentName:"td"},{href:"global.Types#void"}),"void"),Object(l.b)("br",null),"[\u9759\u6001]","\u8c03\u7528 functionName\uff0c\u5e76\u5c06value\u4f20\u5165\u5230native\u4e2d")))),Object(l.b)("h2",{id:"\u65b9\u6cd5\u8be6\u7ec6\u4fe1\u606f"},"\u65b9\u6cd5\u8be6\u7ec6\u4fe1\u606f"),Object(l.b)("h3",{id:"addcallback"},"addCallback()"),Object(l.b)("p",null,"public addCallback(functionName:",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#string"}),"string"),",listener:(value:",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#string"}),"string"),")=>",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#void"}),"void"),"):",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#void"}),"void")),Object(l.b)("p",null,"\u76d1\u542c functionName \u56de\u8c03\uff0c\u9700\u8981\u5728native\u4e2d\u6709\u8c03\u7528 functionName \u8fd9\u4e2a\u5b57\u6bb5\uff0c\u800c\u4e0d\u662f \u6b64\u7c7b\u7684call\u3002"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u652f\u6301\u7248\u672c:"),"Egret 2.4"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u8fd0\u884c\u5e73\u53f0"),":Web,Native"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u53c2\u6570"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"functionName:",Object(l.b)("a",Object(n.a)({parentName:"li"},{href:"global.Types#string"}),"string")),Object(l.b)("li",{parentName:"ul"},"listener:(value:",Object(l.b)("a",Object(n.a)({parentName:"li"},{href:"global.Types#string"}),"string"),")=>",Object(l.b)("a",Object(n.a)({parentName:"li"},{href:"global.Types#void"}),"void"))))),Object(l.b)("h3",{id:"call"},"call()"),Object(l.b)("p",null,"public call(functionName:",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#string"}),"string"),",value:",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#string"}),"string"),"):",Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"global.Types#void"}),"void")),Object(l.b)("p",null,"\u8c03\u7528 functionName\uff0c\u5e76\u5c06value\u4f20\u5165\u5230native\u4e2d\u3002"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u652f\u6301\u7248\u672c:"),"Egret 2.4"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u8fd0\u884c\u5e73\u53f0"),":Web,Native"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"\u53c2\u6570"),Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"functionName:",Object(l.b)("a",Object(n.a)({parentName:"li"},{href:"global.Types#string"}),"string")),Object(l.b)("li",{parentName:"ul"},"value:",Object(l.b)("a",Object(n.a)({parentName:"li"},{href:"global.Types#string"}),"string"))))),Object(l.b)("h3",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),Object(l.b)("pre",null,Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'/**\n * \u4ee5\u4e0b\u793a\u4f8b\u6f14\u793a\u4e86 Egret \u548c Java \u53d1\u9001\u6570\u636e\u7684\u8fc7\u7a0b\u3002\n */\nclass ExternalInterfaceExample extends egret.DisplayObjectContainer {\n    public constructor() {\n        super();\n\n        egret.ExternalInterface.addCallback("sendToJS", function (message) {\n            egret.log("message form native : " + message);//message form native : message from native\n        });\n        egret.ExternalInterface.call("sendToAndroid", "message from js");\n\n        //\u5bf9\u5e94\u7684Java\u4ee3\u7801\uff1a\n        //IGameExternalInterface externalInterface = gameEngine.game_engine_get_externalInterface();\n        //externalInterface.run();\n        //externalInterface.addCallBack("sendToAndroid", new IGameExternalInterfaceCallBack(){\n        //public void callBack(String str){\n        //        Log.i("externalInterface", "message form js : " + str);\n        //        IGameExternalInterface externalInterface = gameEngine.game_engine_get_externalInterface();\n        //        externalInterface.call("sendToJS", "message from native");\n        //    }\n        //});\n    }\n}\n\n')))}s.isMDXComponent=!0},520:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=r.a.createContext({}),p=function(e){var t=r.a.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):b({},t,{},e)),a},s=function(e){var t=p(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},u="mdxType",O={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),s=p(a),u=n,g=s["".concat(c,".").concat(u)]||s[u]||O[u]||l;return a?r.a.createElement(g,b({ref:t},o,{components:a})):r.a.createElement(g,b({ref:t},o))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,c=new Array(l);c[0]=g;var b={};for(var i in t)hasOwnProperty.call(t,i)&&(b[i]=t[i]);b.originalType=e,b[u]="string"==typeof e?e:n,c[1]=b;for(var o=2;o<l;o++)c[o]=a[o];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,a)}g.displayName="MDXCreateElement"}}]);